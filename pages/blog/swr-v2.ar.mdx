---
image: https://assets.vercel.com/image/upload/v1670542323/swr/v2.png
description: 'ุงูุฅุนูุงู ุนู SWR 2.0: ูุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช ุทูุฑุฉ ุฌุฏูุฏุฉ ููุฏุฑุงุช ูุงุฌูุฉ ูุณุชุฎุฏู ูุชูุงุฆูุฉ ูุญุณูุฉุ ูุฃุฏูุงุช ุชุทููุฑ ุฌุฏูุฏุฉุ ูุฏุนู ุฃูุถู ููุนุฑุถ ุงููุชุฒุงููุ ูุงููุฒูุฏ.'
date: December 9th, 2022
---

import { Callout } from 'nextra-theme-docs'
import { Bleed } from 'nextra-theme-docs'

import Authors, { Author } from 'components/authors'
import Video from 'components/video'

ๆบ็ฟป
# ุงูุฅุนูุงู ุนู SWR 2.0 [#announcing-swr-20]

<Authors date="December 9th, 2022">
  <Author name="Shu Ding" link="https://twitter.com/shuding_" />
  <Author name="Jiachi Liu" link="https://twitter.com/huozhi" />
  <Author name="Toru Kobayashi" link="https://twitter.com/koba04" />
  <Author name="Yixuan Xu" link="https://twitter.com/yixuanxu94" />
</Authors>

ูุณุนุฏูุง ุฃู ูุนูู ุนู ุฅุตุฏุงุฑ SWR 2.0ุ ููุชุจุฉ ุฌูุจ ุจูุงูุงุช React ุงูุดููุฑุฉ ุงูุชู ุชููู ุงูููููุงุช ูู ุฌูุจ ุงูุจูุงูุงุช ูุชุฎุฒูููุง ูุคูุชุง ูุชุญููููุง ูุชุจูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุญุฏุซุฉ ูุน ุงูุชุบููุฑุงุช ูู ุชูู ุงูุจูุงูุงุช ุจูุฑูุฑ ุงูููุช. ุฑูู 

ูุฃุชู ูุฐุง ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ ูููุฆุง ุจุงูุชุญุณููุงุช ูุงูููุฒุงุช ุงูุฌุฏูุฏุฉุ ูุซู ูุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุทูุฑุงุช ุงูุฌุฏูุฏุฉุ ููุฏุฑุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุชูุงุฆูุฉ ุงููุญุณูุฉุ ูุฃุฏูุงุช ุงูุชุทููุฑ ุงูุฌุฏูุฏุฉุ ูุฏุนู ุฃูุถู ููุนุฑุถ ุงููุชุฒุงูู. ููุฏ ุฃู ูุชูุฏู ุจุดูุฑูุง ุงูุฌุฒูู ูุฌููุน ุงููุณุงูููู ูุงููุญุงูุธูู ุงูุฐูู ุฌุนููุง ูุฐุง ุงูุฅุตุฏุงุฑ ููููุง.

## ุงูุทูุฑุฉ ููุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุชูุงุฆูุฉ [#ุทูุฑุฉ ููุงุฌูุฉ ูุณุชุฎุฏู ูุชูุงุฆูุฉ] 

### ุงุณุชุฎุฏู SWRMutation [#ุงุณุชุฎุฏุงู swrmation]

ุงูุทูุฑุฉ ูู ุฌุฒุก ููู ูู ุนูููุฉ ุฌูุจ ุงูุจูุงูุงุช. ุฅููุง ุชุณูุญ ูู ุจุฅุฌุฑุงุก ุชุบููุฑุงุช ุนูู ุจูุงูุงุชู ูุญููุง ูุนู ุจุนุฏ. ุชุณูุญ ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช "mutate" ุงูุญุงููุฉ ุจุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูููุงุฑุฏ ูุชุญูุฑูุง ูุฏููุง. ูู SWR 2.0ุ ูุฌุนู ุงูุฎุทุงู ุงูุฌุฏูุฏ "useSWRMutation" ูู ุงูุณูู ุชุบููุฑ ุงูุจูุงูุงุช ุนู ุจุนุฏ ุจุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุฅุนูุงููุฉ. ููููู ุฅุนุฏุงุฏ ุทูุฑุฉ ุจุงุณุชุฎุฏุงู ุงูุฎุทุงูุ ุซู ุชูุดูุทูุง ูุงุญูุง:

```jsx {11,16}
import useSWRMutation from 'swr/mutation'

async function sendRequest(url, { arg }) {
  return fetch(url, {
    method: 'POST',
    body: JSON.stringify(arg)
  })
}

function App() {
  const { trigger, isMutating } = useSWRMutation('/api/user', sendRequest)

  return (
    <button
      disabled={isMutating}
      onClick={() => trigger({ username: 'johndoe' })}
    >{
      isMutating ? 'Creating...' : 'Create User'
    }</button>
  )
}
```

ูุญุฏุฏ ุงููุซุงู ุฃุนูุงู ุทูุฑุฉ `sendRequest` ุงูุชู ุชุคุซุฑ ุนูู ููุฑุฏ `'/api/user'` ุนูู ุนูุณ `useSWR`ุ ูู ูุจุฏุฃ `useSWRMutation` ุงูุทูุจ ุนูู ุงูููุฑ ุนูุฏ ุงูุชูุฏูู. ุจุฏูุง ูู ุฐููุ ูุฅูู ูุนูุฏ ูุธููุฉ `trigger` ุงูุชู ูููู ุงุณุชุฏุนุงุคูุง ูุงุญูุง ูุจุฏุก ุงูุทูุฑุฉ ูุฏููุง. ุฑูู 
 
ุณูุชู ุงุณุชุฏุนุงุก ูุธููุฉ `sendRequest` ุนูุฏ ุงูููุฑ ููู ุงูุฒุฑุ ูุน ุงููุณูุทุฉ ุงูุฅุถุงููุฉ `{ username: 'johndoe' }`. ุณูุชู ุชุนููู ูููุฉ `isMutating` ุนูู `true` ุญุชู ุชูุชูู ุงูุทูุฑุฉ. ุฑูู 
 
ุจุงูุฅุถุงูุฉ ุฅูู ุฐููุ ูุนุงูุฌ ูุฐุง ุงูุฎุทุงู ุงูุฌุฏูุฏ ูุดููุงุช ุฃุฎุฑู ูุฏ ุชููู ูุฏูู ูุน ุงูุทูุฑุงุช: ุฑูู 
 
 - ูู ุจุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุชูุงุคู ุฃุซูุงุก ุชุญูุฑ ุงูุจูุงูุงุช ุฑูู 
 - ุงูุนูุฏุฉ ุชููุงุฆูุง ุนูุฏูุง ุชูุดู ุงูุทูุฑุฉ ุฑูู 
 - ุชุฌูุจ ุฃู ุธุฑูู ุนุฑู ูุญุชููุฉ ุจูู `useSWR` ูุงูุทูุฑุงุช ุงูุฃุฎุฑู ูู ููุณ ุงูููุฑุฏ ุฑูู 
 - ููุก ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช `useSWR` ุจุนุฏ ุงูุชูุงู ุงูุทูุฑุฉ ุฑูู 
 - ...

ููููู ุงูุนุซูุฑ ุนูู ูุฑุงุฌุน ูุฃูุซูุฉ ูุชุนููุฉ ููุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุนู ุทุฑูู ูุฑุงุกุฉ [docs](/docs/mutation#useswrmutation) ุฃู ุงูุชูุฑูุฑ ุนุจุฑ ุงูุฃูุณุงู ุงูููููุฉ ุงูุชุงููุฉ. ุฑูู 
 
### ูุงุฌูุฉ ูุณุชุฎุฏู ูุชูุงุฆูุฉ  ุฑูู [#ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุชูุงุฆูุฉ]
 
ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุชูุงุฆูุฉ ูู ูููุฐุฌ ููุชุงุฒ ูุฅูุดุงุก ููุงูุน ููุจ ุชุดุนุฑ ุจุงูุณุฑุนุฉ ูุงูุงุณุชุฌุงุจุฉุ ููุน ุฐููุ ูุฏ ูููู ูู ุงูุตุนุจ ุชูููุฐูุง ุจุดูู ุตุญูุญ. ุฃุถุงู SWR 2.0 ุจุนุถ ุงูุฎูุงุฑุงุช ุงููููุฉ ุงูุฌุฏูุฏุฉ ูุชุณููู ุงูุฃูุฑ. ุฑูู 
 
ูููุชุฑุถ ุฃู ูุฏููุง ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุชุถูู ููุงู ุฌุฏูุฏุฉ ุฅูู ูุงุฆูุฉ ุงูููุงู ูุชุฑุณููุง ุฅูู ุงูุฎุงุฏู:

```jsx
await addNewTodo('New Item')
```

ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฎุงุตุฉ ุจูุงุ ูุณุชุฎุฏู ุฎุทุงู `useSWR` ูุนุฑุถ ูุงุฆูุฉ ุงูููุงูุ ูุน ุฒุฑ "ุฅุถุงูุฉ ุนูุตุฑ ุฌุฏูุฏ" ุงูุฐู ูููู ุจุชุดุบูู ูุฐุง ุงูุทูุจ ููุทูุจ ูู SWR ุฅุนุงุฏุฉ ุฌูุจ ุงูุจูุงูุงุช ุนุจุฑ `mutate()`:

```jsx {7,8}
const { mutate, data } = useSWR('/api/todos')

return <>
  <ul>{/* Display data */}</ul>

  <button onClick={async () => {
    await addNewTodo('New Item')
    mutate()
  }}>
    Add New Item
  </button>
</>
```

ููุน ุฐููุ ูุฏ ูููู ุทูุจ `await addNewTodo(...)` ุจุทูุฆุง ุฌุฏุง. ุนูุฏูุง ุชููู ูุณุชูุฑุฉุ ูุง ูุฒุงู ุงููุณุชุฎุฏููู ูุฑูู ุงููุงุฆูุฉ ุงููุฏููุฉ ุญุชู ูู ุงุณุชุทุนูุง ุจุงููุนู ูุนุฑูุฉ ุดูู ุงููุงุฆูุฉ ุงูุฌุฏูุฏุฉ. ุจุงุณุชุฎุฏุงู ุฎูุงุฑ "ุงูุจูุงูุงุช ุงููุชูุงุฆูุฉ" ุงูุฌุฏูุฏุ ูููููุง ุฅุธูุงุฑ ุงููุงุฆูุฉ ุงูุฌุฏูุฏุฉ ุจุชูุงุคูุ ูุจู ุฃู ูุณุชุฌูุจ ุงูุฎุงุฏู:

```jsx {8}
const { mutate, data } = useSWR('/api/todos')

return <>
  <ul>{/* Display data */}</ul>

  <button onClick={() => {
    mutate(addNewTodo('New Item'), {
      optimisticData: [...data, 'New Item'],
    })
  }}>
    Add New Item
  </button>
</>
```

ุณุชููู SWR ุนูู ุงูููุฑ ุจุชุญุฏูุซ `data` ุจูููุฉ `optimisticData`ุ ุซู ุชุฑุณู ุงูุทูุจ ุฅูู ุงูุฎุงุฏู. ุจูุฌุฑุฏ ุงูุชูุงุก ุงูุทูุจุ ุณุชุนูุฏ SWR ุงูุชุญูู ูู ุตุญุฉ ุงูููุฑุฏ ููุชุฃูุฏ ูู ุฃูู ุงูุฃุญุฏุซ. 
 
ูุซู ุงูุนุฏูุฏ ูู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุชุ ุฅุฐุง ุฃุนุงุฏ ููุง ุทูุจ `addNewTodo(...)` ุฃุญุฏุซ ุงูุจูุงูุงุช ูู ุงูุฎุงุฏูุ ููููููุง ุฅุธูุงุฑ ูุฐู ุงููุชูุฌุฉ ูุจุงุดุฑุฉ ุฃูุถุง (ุจุฏูุง ูู ุจุฏุก ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุตุญ ุฌุฏูุฏุฉ)! ููุงู ุฎูุงุฑ "populateCache" ุงูุฌุฏูุฏ ูุฅุฎุจุงุฑ SWR ุจุชุญุฏูุซ ุงูุจูุงูุงุช ุงููุญููุฉ ุจุงุณุชุฌุงุจุฉ ุงูุทูุฑุฉ:

```jsx {9}
const { mutate, data } = useSWR('/api/todos')

return <>
  <ul>{/* Display data */}</ul>

  <button onClick={() => {
    mutate(addNewTodo('New Item'), {
      optimisticData: [...data, 'New Item'],
      populateCache: true,
    })
  }}>
    Add New Item
  </button>
</>
```

ูู ุงูููุช ููุณูุ ูุง ูุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุตุญุฉ ุฃุฎุฑู ุจุนุฏ ุฐูู ูุฃู ุจูุงูุงุช ุงูุงุณุชุฌุงุจุฉ ูู ูุตุฏุฑ ุงูุญูููุฉุ ูููููุง ุชุนุทูููุง ุจุงุณุชุฎุฏุงู ุฎูุงุฑ `revalidate`:

```jsx {10}
const { mutate, data } = useSWR('/api/todos')

return <>
  <ul>{/* Display data */}</ul>

  <button onClick={() => {
    mutate(addNewTodo('New Item'), {
      optimisticData: [...data, 'New Item'],
      populateCache: true,
      revalidate: false,
    })
  }}>
    Add New Item
  </button>
</>
```

ุฃุฎูุฑุงุ ุฅุฐุง ูุดู `addNewTodo(...)` ุจุงุณุชุซูุงุกุ ููููููุง ุฅุฑุฌุงุน ุงูุจูุงูุงุช ุงููุชูุงุฆูุฉ (`[...data, 'New Item']`) ุงูุชู ูููุง ุจุชุนููููุง ููุชูุ ุนู ุทุฑูู ุชุนููู `rollbackOnError` ุนูู `true` (ููู ุฃูุถุง ุงูุฎูุงุฑ ุงูุงูุชุฑุงุถู). ุนูุฏูุง ูุญุฏุซ ุฐููุ ุณุชุชุฑุงุฌุน SWR `data` ุฅูู ุงููููุฉ ุงูุณุงุจูุฉ.

```jsx {11}
const { mutate, data } = useSWR('/api/todos')

return <>
  <ul>{/* Display data */}</ul>

  <button onClick={() => {
    mutate(addNewTodo('New Item'), {
      optimisticData: [...data, 'New Item'],
      populateCache: true,
      revalidate: false,
      rollbackOnError: true,
    })
  }}>
    Add New Item
  </button>
</>
```

ูุชู ุฏุนู ุฌููุน ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฐู ูู ุฎุทุงู `useSWRMutation` ุงูุฌุฏูุฏ ุฃูุถุง. ููุนุฑูุฉ ุงููุฒูุฏ ุนููุงุ ููููู ุงูุชุญูู ูู [docs](/docs/mutation#optimistic-updates). ูุฅููู ุนุฑุถ ุชูุถูุญู ููุถุญ ูุฐุง ุงูุณููู:

<Video
  src="/video/optimistic-ui.mp4"
  caption="Optimistic UI with automatic error rollback"
  ratio={223/584}
/>

### ูุชู ููุงุชูุญ ูุชุนุฏุฏุฉ [#ููุงุชูุญ ูุชุนุฏุฏุฉ ุงูุทูุฑุงุช] 

ุชูุจู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุนุงูููุฉ "ุชุญูุฑ" ุงูุขู ูุธููุฉ ุงูููุชุฑุ ุญูุซ ููููู ุชุบููุฑ ููุงุชูุญ ูุญุฏุฏุฉ ุฃู ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุตูุงูุง. ุณูููู ูุฐุง ูููุฏุง ูุญุงูุงุช ุงูุงุณุชุฎุฏุงู ูุซู ุฅุจุทุงู ุฌููุน ุงูุจูุงูุงุช ุงููุฎุฒูุฉ ูุคูุชุง. ููุนุฑูุฉ ุงููุฒูุฏุ ููููู ูุฑุงุกุฉ [ุชุญูุฑ ููุงุชูุญ ูุชุนุฏุฏุฉ](/docs/mutation#mutate-multiple-items) ูู ุงููุณุชูุฏุงุช.

```jsx
import { mutate } from 'swr'
// Or from the hook if you have customized your cache provider:
// { mutate } = useSWRConfig()

// Mutate single resource
mutate(key)

// Mutate multiple resources and clear the cache (set to undefined)
mutate(
  key => typeof key === 'string' && key.startsWith('/api/item?id='),
  undefined,
  { revalidate: false }
)
```

## ุฃุฏูุงุช ุชุทููุฑ SWR  ุฑูู [#swr-devtools]

[SWRDevTools](https://swr-devtools.vercel.app) ูู ุงูุชุฏุงุฏ ูุชุตูุญ ูุณุงุนุฏู ุนูู ุชุตุญูุญ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช SWR ููุชุงุฆุฌ ุงูุฌูุจ. ุชุญูู ูู ูุณู [devtools](/docs/advanced/devtools) ููุนุฑูุฉ ููููุฉ ุงุณุชุฎุฏุงู devtools ูู ุชุทุจููู. ุฑูู 
![]( /Img/devtools/cache-view.jpg) ุฑูู 

## ุงูุชุญููู ุงููุณุจู ููุจูุงูุงุช  ุฑูู [#preloading-data]

ูููู ุฃู ูุคุฏู ุงูุชุญููู ุงููุณุจู ููุจูุงูุงุช ุฅูู ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุจุดูู ูุจูุฑ. ุฅุฐุง ููุช ุชุนุฑู ุฃูู ุณูุชู ุงุณุชุฎุฏุงู ุงูููุฑุฏ ูุงุญูุง ูู ุงูุชุทุจููุ ูููููู ุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฌุฏูุฏุฉ "ุงูุชุญููู ุงููุณุจู" ูุจุฏุก ุฌูุจู ูุจูุฑุง:

```jsx {6}
import useSWR, { preload } from 'swr'

const fetcher = (url) => fetch(url).then((res) => res.json())

// You can call the preload function in anywhere
preload('/api/user', fetcher)

function Profile() {
  // The component that actually uses the data:
  const { data, error } = useSWR('/api/user', fetcher)
  // ...
}

export function Page () {
  return <Profile/>
}
```

ูู ูุฐุง ุงููุซุงูุ ูุชู ุงุณุชุฏุนุงุก ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช `preload` ูู ุงููุทุงู ุงูุนุงููู. ูุฐุง ูุนูู ุฃููุง ูุจุฏุฃ ูู ุงูุชุญููู ุงููุณุจู ููููุฑุฏ ูุจู ุฃู ุชุจุฏุฃ React ูู ุชูุฏูู ุฃู ุดูุก. 
 ูุนูุฏูุง ูุชู ุชูุฏูู ูููู "ุงูููู ุงูุดุฎุตู"ุ ูู ุงููุญุชูู ุฃู ุชููู ุงูุจูุงูุงุช ูุชุงุญุฉ ุจุงููุนู. ุฅุฐุง ูุงู ูุง ูุฒุงู ูุณุชูุฑุงุ ูุณูุนูุฏ ุฎุทุงู `useSWR` ุงุณุชุฎุฏุงู ุทูุจ ุงูุชุญููู ุงููุณุจู ุงููุณุชูุฑ ุจุฏูุง ูู ุจุฏุก ุทูุจ ุฌุฏูุฏ. 
 
ูููู ุฃูุถุง ุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช `preload` ูู ุญุงูุงุช ูุซู ุจูุงูุงุช ุงูุชุญููู ุงููุณุจู ูุตูุญุฉ ุฃุฎุฑู ูู ุงููุญุชูู ุชูุฏูููุง. ูููู ุงูุนุซูุฑ ุนูู ูุฒูุฏ ูู ุงููุนูููุงุช ุญูู ุงูุฌูุจ ุงููุณุจู ููุจูุงูุงุช ุจุงุณุชุฎุฏุงู SWR [ููุง](/docs/prefetching).

## `isLoading` ุฑูู  [#isloading]

`isLoading` ูู ุญุงูุฉ ุฌุฏูุฏุฉ ุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ `useSWR`ุ ุชุดูุฑ ุฅูู **ุฅุฐุง ูุงู ุงูุทูุจ ูุง ูุฒุงู ูุณุชูุฑุงุ ููุง ุชูุฌุฏ ุจูุงูุงุช ุชู ุชุญููููุง ุญุชู ุงูุขู**. ูู ุงูุณุงุจูุ ุชูุซู ุญุงูุฉ `isValidating` ูู ูู ุญุงูุฉ ุงูุชุญููู ุงูุฃูููุฉ ูุญุงูุฉ ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุตุญุฉุ ูุฐูู ูุงู ุนูููุง ุงูุชุญูู ููุง ุฅุฐุง ูุงู ูู ูู `data` ู"`error` `undefined` ูุชุญุฏูุฏ ูุง ุฅุฐุง ูุงูุช ุญุงูุฉ ุงูุชุญููู ุงูุฃูููุฉ. ุฑูู 
 
ุงูุขูุ ูู ุงูุณูู ุฌุฏุง ุฃู ุชุชููู ูู ุงุณุชุฎุฏุงู ูููุฉ `isLoading` ูุจุงุดุฑุฉ ูุชูุฏูู ุฑุณุงูุฉ ุชุญููู:

```jsx
import useSWR from 'swr'

function Profile() {
  const { data, isLoading } = useSWR('/api/user', fetcher)

  if (isLoading) return <div>loading...</div>
  return <div>hello {data.name}!</div>
}
```

ูุงุญุธ ุฃู `isValidating` ูุง ูุฒุงู ููุฌูุฏุง ุญุชู ุชุชููู ูู ุงุณุชุฎุฏุงูู ูุฅุธูุงุฑ ูุคุดุฑ ุชุญููู ูุฅุนุงุฏุฉ ุงูุชุญูู ูู ูููุชู.

<Callout emoji="๐">
  ููุฏ ุฃุถููุง ุตูุญุฉ [ููู SWR] (/docs/advanced/understanding) ุงูุฌุฏูุฏุฉ ููุตู ููููุฉ ุฅุฑุฌุงุน SWR ูููููุ ูุงูุชู ุชุดูู ุงููุฑู ุจูู `isValidating` ู `isLoading`ุ ูููููุฉ ุฏูุฌูุง ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู.
</Callout>

## ุงูุญูุงุธ ุนูู ุงูุญุงูุฉ ุงูุณุงุจูุฉ [#ุงูุญูุงุธ ุนูู ุงูุญุงูุฉ ุงูุณุงุจูุฉ] 

 ุฎูุงุฑ `keepPreviousData` ูู ุฅุถุงูุฉ ุฌุฏูุฏุฉ ุชุณูุญ ูู ุจุงูุงุญุชูุงุธ ุจุงูุจูุงูุงุช ุงูุชู ุชู ุฌูุจูุง ูู ูุจู. ูุนูู ูุฐุง ุนูู ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุจุดูู ูุจูุฑ ุนูุฏ ุฌูุจ ุงูุจูุงูุงุช ุงุณุชูุงุฏุง ุฅูู ุฅุฌุฑุงุกุงุช ุงููุณุชุฎุฏู ุงูุชู ุชุญุฏุซ ูู ุงูููุช ุงููุนููุ ููุง ูู ุงูุญุงู ูุน ููุฒุฉ ุงูุจุญุซ ุงููุจุงุดุฑุ ุญูุซ ูุณุชูุฑ `key` ููููุฑุฏ ูู ุงูุชุบูุฑ:

```jsx {5}
function Search() {
  const [search, setSearch] = React.useState('');

  const { data, isLoading } = useSWR(`/search?q=${search}`, fetcher, {
    keepPreviousData: true
  })

  return (
    <div>
      <input
        type="text"
        value={search}
        onChange={(e) => setSearch(e.target.value)}
        placeholder="Search..."
      />

      <div className={isLoading ? "loading" : ""}>
        {data?.products.map(item => <Product key={item.id} name={item.name} />)
      </div>
    </div>
  );
}
```

<Video
  src="https://user-images.githubusercontent.com/3676859/163695903-a3eb1259-180e-41e0-821e-21c320201194.mp4"
  caption="ุงุญุชูุธ ุจูุชุงุฆุฌ ุงูุจุญุซ ุงูุณุงุจูุฉ ุนูุฏ ุชูููู keepPreviousData"
  ratio={640/730}
/>

ุชุญูู ูู ุงูุฑูุฒ ุนูู [CodeSandbox](https://codesandbox.io/s/swr-keeppreviousdata-fsjz3m) ูููููู ูุฑุงุกุฉ ุงููุฒูุฏ ุนูู [ููุง](/docs/advanced/understanding#return-previous-data-for-better-ux). ุฑูู 

## ุชูุฏูุฏ ุงูุชููููุงุช  ุฑูู [#extending-configurations]
 
ูููู ู `SWRConfig` ุงูุขู ูุจูู ูููุฉ ุฏุงูุฉ. ุนูุฏูุง ูููู ูุฏูู ูุณุชููุงุช ูุชุนุฏุฏุฉ ูู "ุ ูุชููู ุงูุฌุฒุก ุงูุฏุงุฎูู ุงูุชูููู ุงูุฃุตูู ููุนูุฏ ุชููููุง ุฌุฏูุฏุง. ูุฐุง ุงูุชุบููุฑ ูุฌุนู ุงูุฃูุฑ ุฃูุซุฑ ูุฑููุฉ ูุชูููู SWR ูู ูุงุนุฏุฉ ุฑููุฒ ูุจูุฑุฉ. ูููู ุงูุนุซูุฑ ุนูู ูุฒูุฏ ูู ุงููุนูููุงุช [ููุง](/docs/global-configuration).

```jsx
<SWRConfig
  value={parentConfig => ({
    dedupingInterval: parentConfig.dedupingInterval * 5,
    refreshInterval: 100,
  })}
>
  <Page />
</SWRConfig>
```

## ุชุญุณูู ุฏุนู React 18 [#improved-react-18-support] 

ูุงูุช SWR ุจุชุญุฏูุซ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฏุงุฎููุฉ ุงูุฎุงุตุฉ ุจูุง ูุงุณุชุฎุฏุงู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช `useSyncExternalStore` ู`startTransition` ูู React 18. ูุฐู ุชุถูู ุงุชุณุงูุง ุฃููู ุนูุฏ ุชูุฏูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูู ููุช ูุงุญุฏ. ูุง ูุชุทูุจ ูุฐุง ุงูุชุบููุฑ ุฃู ุชุบููุฑุงุช ูู ุฑูุฒ ุงููุณุชุฎุฏู ูุณูุณุชููุฏ ููู ุฌููุน ุงููุทูุฑูู ูุจุงุดุฑุฉ. ูุชู ุชุถููู ุงูุญุดูุงุช ูู React 17 ูุฃุฏูุงู. 
 
ูุง ูุฒุงู SWR 2.0 ูุฌููุน ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ูุชูุงููุฉ ูุน React 16 ู17. 

## ุฏููู ุงููุฌุฑุฉ [#ุฏููู ุงููุฌุฑุฉ]


### Fetcher ูู ูุนุฏ ููุจู ุญุฌุฌุง ูุชุนุฏุฏุฉ [#fetcher-no-longer-accepts-multiple-arguments] 
 
ุชู ุชูุฑูุฑ `key` ุงูุขู ูุญุฌุฉ ูุงุญุฏุฉ.


```diff
- useSWR([1, 2, 3], (a, b, c) => {
+ useSWR([1, 2, 3], ([a, b, c]) => {
  assert(a === 1)
  assert(b === 2)
  assert(c === 3)
})
```

### Global Mutate ูู ูุนุฏ ููุจู ูุธููุฉ `getKey` [#global-mutate-no-longer-accepts-a-getkey-function] 
 
ุงูุขูุ ุฅุฐุง ููุช ุจุชูุฑูุฑ ูุธููุฉ ุฅูู `mutate` ุงูุนุงูููุฉุ ูุณูุชู ุงุณุชุฎุฏุงููุง ู [ูุฑุดุญ](/blog/swr-v2#mutate-multiple-keys). ูู ุงูุณุงุจูุ ููููู ุชูุฑูุฑ ุฏุงูุฉ ุชุฑุฌุน ููุชุงุญุง ุฅูู `mutate` ุงูุนุงููู:

```diff
- mutate(() => '/api/item') // a function to return a key
+ mutate('/api/item')       // to mutate the key, directly pass it
```

### ุฎุงุตูุฉ ุฌุฏูุฏุฉ ูุทููุจุฉ `keys()` ููุงุฌูุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช [#new-required-property-keys-for-cache-interface] 
 
ุนูุฏ ุงุณุชุฎุฏุงู ุชูููุฐ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุฎุงุตุฉ ุจูุ ุชุชุทูุจ ูุงุฌูุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุขู ุทุฑููุฉ `keys()` ุงูุชู ุชุฑุฌุน ุฌููุน ุงูููุงุชูุญ ูู ูุงุฆู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุชุ ุนูู ุบุฑุงุฑ ูุซููุงุช ุฎุฑูุทุฉ ุฌุงูุง ุณูุฑูุจุช.

```diff
interface Cache<Data> {
  get(key: string): Data | undefined
  set(key: string, value: Data): void
  delete(key: string): void
+ keys(): IterableIterator<string>
}
```

### ุชู ุชุบููุฑ ุงููููู ุงูุฏุงุฎูู ูุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช [#changed-cache-internal-structure] 
 
ุณูููู ุงููููู ุงูุฏุงุฎูู ูุจูุงูุงุช ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูุงุฆูุง ูุญูู ุฌููุน ุงูุญุงูุงุช ุงูุญุงููุฉ.

```diff
- assert(cache.get(key) === data)
+ assert(cache.get(key) === { data, error, isValidating })

// getter
- cache.get(key)
+ cache.get(key)?.data

// setter
- cache.set(key, data)
+ cache.set(key, { ...cache.get(key), data })
```

<Callout emoji="๐จ" type="error">
 ูุฌุจ ุฃูุง ุชูุชุจ ุฅูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูุจุงุดุฑุฉุ ููุฏ ูุชุณุจุจ ุฐูู ูู ุณููู ุบูุฑ ูุญุฏุฏ.
</Callout>

### ุชูุช ุฅุนุงุฏุฉ ุชุณููุฉ `SWRConfig.default` ุจุงุณู `SWRConfig.defaultValue`  ุฑูู [#swrconfigdefault-is-renamed-as-swrconfigdefaultvalue]
 
`SWRconfig.defaultValue` ูู ุฎุงุตูุฉ ุงููุตูู ุฅูู ุชูููู SWR ุงูุงูุชุฑุงุถู.

```diff
- SWRConfig.default
+ SWRConfig.defaultValue
```

### ููุน `InfiniteFetcher` ุชูุช ุฅุนุงุฏุฉ ุชุณููุชู ุจุงุณู `SWRInfiniteFetcher` [#type-infinitefetcher-is-renamed-as-swrinfinitefetcher]

```diff
- import type { InfiniteFetcher } from 'swr/infinite'
+ import type { SWRInfiniteFetcher } from 'swr/infinite'
```

### ุชุฌูุจ ุงูุชุดููู ุนูู ุงูุฎุงุฏู [#ุชุฌูุจ ุงูุชุดููู ุนูู ุงูุฎุงุฏู] 
 
ุฅุฐุง ููุช ุชุฑุบุจ ูู ุงุณุชุฎุฏุงู `suspense: true` ูุน SWR ุนูู ุฌุงูุจ ุงูุฎุงุฏูุ ุจูุง ูู ุฐูู ุงูุชูุฏูู ุงููุณุจู ูู Next.jsุ ููุฌุจ ุนููู ุชูุฏูู ุงูุจูุงูุงุช ุงูุฃูููุฉ ุนุจุฑ [`fallbackData` ุฃู `fallback`](/docs/with-nextjs#pre-rendering-with-default-data). ุงููููุ ูุฐุง ูุนูู ุฃูู ูุง ููููู ุงุณุชุฎุฏุงู Suspense ูุฌูุจ ุงูุจูุงูุงุช ุนูู ุฌุงูุจ ุงูุฎุงุฏู. ูููู ุงูุฎูุงุฑุงู ุงูุขุฎุฑุงู ุจุฌูุจ ุงูุจูุงูุงุช ุจุงููุงูู ูู ุฌุงูุจ ุงูุนููู ุฃู ุงูุญุตูู ุนูู ุฅุทุงุฑ ุงูุนูู ุงูุฎุงุต ุจู ูุฌูุจ ุงูุจูุงูุงุช ููุงุจุฉ ุนูู (ููุง ููุนู getStaticProps ูู Next.js). 
 
### ES2018 ููุฏู ููุจูุงุก [#es2018-as-the-build-target] 
 
ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฏุนู IE 11ุ ููุฌุจ ุนููู ุงุณุชูุฏุงู ES5 ูู ุฅุทุงุฑ ุงูุนูู ุงูุฎุงุต ุจู ุฃู ุญุฒูุฉ. ุฃุฏู ูุฐุง ุงูุชุบููุฑ ุฅูู ุชุญุณูู ุงูุฃุฏุงุก ูู SSRุ ููุญุงูุธ ุนูู ุญุฌู ุงูุญุฒูุฉ ุตุบูุฑุง. 
 
## ุณุฌู ุงูุชุบููุฑ [#changelog] 
 
ุงูุฑุฃ ุณุฌู ุงูุชุบููุฑ ุงููุงูู [ุนูู GitHub](https://github.com/vercel/swr/releases). 
 
## ุงููุณุชูุจู ูุดูุฑุง ูู! [#ุงููุณุชูุจู--ุดูุฑุง ูู] 
 
ูุน ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ ูู [Next.js 13](https://nextjs.org/blog/next-13)ุ ูุฑู ุงููุซูุฑ ูู ุงูุฃุดูุงุก ุงูุฌุฏูุฏุฉ ุงููุซูุฑุฉ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุชุญููุงุช ุงููููุฐุฌูุฉ ูู ุงููุธุงู ุงูุจูุฆู React:[React Server Components](https://beta.nextjs.org/docs/rendering/server-and-client-components), streaming SSR, [async components](https://beta.nextjs.org/docs/data-fetching/fetching#asyncawait-in-server-components)ูุฎุทุงู [`use` hook](https://github.com/acdlite/rfcs/blob/first-class-promises/text/0000-first-class-support-for-promises.md#usepromise).ูุฑุชุจุท ุงูุนุฏูุฏ ูููุง ุจุฌูุจ ุงูุจูุงูุงุชุ ูุจุนุถูุง ูุญุชูู ุนูู ุญุงูุงุช ุงุณุชุฎุฏุงู ูุชุฏุงุฎูุฉ ูุน SWR.
 
ููุน ุฐููุ ูุง ูุฒุงู ูุฏู ูุดุฑูุน SWR ููุง ูู. ูุฑูุฏูุง ุฃู ุชููู ููุชุจุฉ ููุณุฏูุฉ ูุฎูููุฉ ุงููุฒู ููุงุฃุฏุฑูุฉ ููุฅุทุงุฑ ูููููุง ูู _opinionated_ (ุฃู ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุชุฑููุฒ). ุจุฏูุง ูู ูุญุงููุฉ ุฃู ูููู ุญูุง ููุงุณูุงุ ูุฑูุฏ ุงูุชุฑููุฒ ุนูู ุงูุงุจุชูุงุฑุงุช ุงูุชู ุชุฌุนู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุฃูุถู. ูู ุบุถูู ุฐููุ ูููู ุฃูุถุง ุจุฅุฌุฑุงุก ุฃุจุญุงุซ ุญูู ููููุฉ ุชุญุณูู SWR ุจุงุณุชุฎุฏุงู ูุฐู ุงููุฏุฑุงุช ุงูุฌุฏูุฏุฉ ู React. 
 
ููุฏ ุฃู ูุดูุฑ ูู ูุงุญุฏ ูู ุงููุณุงูููู ูู ุงููุณุชูุฏุงุช [143](https://github.com/vercel/swr/graphs/contributors) (+ [106](https://github.com/vercel/swr-site/graphs/contributors)ุงููุณุงูููู ูู ุงููุณุชูุฏุงุช)ุููุฐูู ุฃููุฆู ุงูุฐูู ูุณุงุนุฏูููุง ุฃู ููุฏููู ุชุนูููุงุช. ุดูุฑ ุฎุงุต ุฅูู [ุชูุฑู ููุจุงูุงุดู](https://twitter.com/koba04) ุนูู ูู ุนููู ุนูู ุฃุฏูุงุช ุงูุชุทููุฑ ูุงููุณุชูุฏุงุช - ูู ููู ูููุนู ุฐูู ุจุฏููู!
