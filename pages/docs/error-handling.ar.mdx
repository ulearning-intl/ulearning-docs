import { Callout } from 'nextra-theme-docs'
import Link from 'next/link'

ๆบ็ฟป

# ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก 

 ุฅุฐุง ุชู ุทุฑุญ ุฎุทุฃ ุฏุงุฎู [`fetcher`](/docs/data-fetching)ุ ูุณูุชู ุฅุฑุฌุงุนู ู "ุฎุทุฃ" ุจูุงุณุทุฉ ุงูุฎุทุงู.

```js
const fetcher = url => fetch(url).then(r => r.json())

// ...
const { data, error } = useSWR('/api/user', fetcher)
```

ุณูุชู ุชุนุฑูู ุงููุงุฆู "ุงูุฎุทุฃ 22" ุฅุฐุง ุชู ุฑูุถ ูุนุฏ ุงูุฌูุจ. 
 
## ุฑูุฒ ุงูุญุงูุฉ ููุงุฆู ุงูุฎุทุฃ [#status-code-and-error-object] 
 
ูู ุจุนุถ ุงูุฃุญูุงู ูุฑูุฏ ุฃู ุชููู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุจุฅุฑุฌุงุน ูุงุฆู ุฎุทุฃ ุฅูู ุฌุงูุจ ุฑูุฒ ุงูุญุงูุฉ. 
ููุงููุง ูููุฏ ููุนููู. . 
 
ูููููุง ุชุฎุตูุต `fetcher` ูุฅุฑุฌุงุน ุงููุฒูุฏ ูู ุงููุนูููุงุช. ุฅุฐุง ูู ููู ุฑูุฒ ุงูุญุงูุฉ `2xx`ุ 
ูุนุชุจุฑู ุฎุทุฃ ุญุชู ูู ูุงู ูู ุงููููู ุชุญูููู ุนูู ุฃูู JSON:

```js
const fetcher = async url => {
  const res = await fetch(url)

  // If the status code is not in the range 200-299,
  // we still try to parse and throw it.
  if (!res.ok) {
    const error = new Error('An error occurred while fetching the data.')
    // Attach extra info to the error object.
    error.info = await res.json()
    error.status = res.status
    throw error
  }

  return res.json()
}

// ...
const { data, error } = useSWR('/api/user', fetcher)
// error.info === {
//   message: "You are not authorized to access this resource.",
//   documentation_url: "..."
// }
// error.status === 403
```

<Callout emoji="๐ก">
  ูุงุญุธ ุฃู <code>ูุนูููุงุช</code> ู <code>ุฎุทุฃ</code> ูููู ุฃู ููุฌุฏุง ูู ููุณ ุงูููุช. ุญุชู ุชุชููู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูู ุนุฑุถ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉุ
  ุจูููุง ูุน ุงูุนูู ุฃู ุงูุทูุจ ุงููุงุฏู ูุฏ ูุดู.
</Callout>

[ููุง](/examples/error-handling) ูุฏููุง ูุซุงู.

## ุฅุนุงุฏุฉ ูุญุงููุฉ ุงูุฎุทุฃ [#ุฅุนุงุฏุฉ ูุญุงููุฉ ุงูุฎุทุฃ]

ุชุณุชุฎุฏู SWR [ุฎูุงุฑุฒููุฉ ุงูุชุฑุงุฌุน ุงูุฃุณู](https://en.wikipedia.org/wiki/Exponential_backoff) ูุฅุนุงุฏุฉ ูุญุงููุฉ ุงูุทูุจ ุนู ุทุฑูู ุงูุฎุทุฃ. 
ุชุณูุญ ุงูุฎูุงุฑุฒููุฉ ููุชุทุจูู ุจุงูุชุนุงูู ูู ุงูุฃุฎุทุงุก ุจุณุฑุนุฉุ ูููู ููุณ ุฅูุฏุงุฑ ุงูููุงุฑุฏ ุงูุชู ูุชู ุฅุนุงุฏุฉ ุงููุญุงููุฉ ูู ูุซูุฑ ูู ุงูุฃุญูุงู. 
 
ููููู ุฃูุถุง ุชุฌุงูุฒ ูุฐุง ุงูุณููู ุนุจุฑ ุฎูุงุฑ [onErrorRetry](/docs/api#options):

```js
useSWR('/api/user', fetcher, {
  onErrorRetry: (error, key, config, revalidate, { retryCount }) => {
    // Never retry on 404.
    if (error.status === 404) return

    // Never retry for a specific key.
    if (key === '/api/user') return

    // Only retry up to 10 times.
    if (retryCount >= 10) return

    // Retry after 5 seconds.
    setTimeout(() => revalidate({ retryCount }), 5000)
  }
})
```

ูููุญู ุฑุฏ ุงูุงุชุตุงู ูุฐุง ุงููุฑููุฉ ูุฅุนุงุฏุฉ ุงููุญุงููุฉ ุจูุงุก ุนูู ุธุฑูู ูุฎุชููุฉ. ููููู ุฃูุถุง ุชุนุทููู ุนู ุทุฑูู ุชุนููู `shouldRetryOnError: false`. 
 
ูู ุงููููู ุฃูุถุง ุชูููุฑู ุนุจุฑ ุณูุงู [Global Configuration](/docs/global-configuration).

## ุชูุฑูุฑ ุงูุฎุทุฃ ุงูุนุงููู  ุฑูู [#global-error-report]

 ููููู ุฏุงุฆูุง ุงูุญุตูู ุนูู ูุงุฆู "ุงูุฎุทุฃ" ุฏุงุฎู ุงููููู ุจุดูู ุชูุงุนูู. ุฑูู 
 ูููู ูู ุญุงูุฉ ุฑุบุจุชู ูู ุงูุชุนุงูู ูุน ุงูุฎุทุฃ ุนุงูููุงุ ูุฅุฎุทุงุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุฅุธูุงุฑ [toast](https://vercel.com/design/toast) ุฃู [snackbar](https://material.io/components/snackbars)ุ ุฃู ุงูุฅุจูุงุบ ุนูู ูู ููุงู ูุง ูุซู [Sentry] (https://sentry.io)ุ 
ููุงู ุญุฏุซ [`onError`](/docs/api#options):


```jsx
<SWRConfig value={{
  onError: (error, key) => {
    if (error.status !== 403 && error.status !== 404) {
      // We can send the error to Sentry,
      // or show a notification UI.
    }
  }
}}>
  <MyApp />
</SWRConfig>
```
