import { Callout, Tabs, Tab } from 'nextra-theme-docs'
import Link from 'next/link'


# ุงูุจุฏุก ุฑูู 

## ุงูุชุซุจูุช [#ุงูุชุซุจูุช] ุฑูู 

 ุฏุงุฎู ุฏููู ูุดุฑูุน React ุงูุฎุงุต ุจูุ ูู ุจุชุดุบูู ูุง ููู:

<Tabs items={['pnpm', 'npm', 'yarn']}>
  <Tab>
    ```bash
    pnpm add swr
    ```
  </Tab>
  <Tab>
    ```bash
    npm i swr
    ```
  </Tab>
  <Tab>
    ```bash
    yarn add swr
    ```
  </Tab>
</Tabs>


## Quick Start [#quick-start]

ุจุงููุณุจุฉ ููุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช RESTful ุงูุนุงุฏูุฉ ูุน ุจูุงูุงุช JSONุ ุชุญุชุงุฌ ุฃููุง ุฅูู ุฅูุดุงุก ูุธููุฉ `fetcher`ุ ููู ูุฌุฑุฏ ุบูุงู ู `fetch` ุงูุฃุตูู:

```jsx
const fetcher = (...args) => fetch(...args).then(res => res.json())
```

<Callout emoji="๐ก">
  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุงุณุชุฎุฏุงู GraphQL API ุฃู libs ูุซู Axiosุ ูููููู ุฅูุดุงุก ูุธููุฉ fetcher ุงูุฎุงุตุฉ ุจู.
  ุชุญูู  <Link href="/docs/data-fetching">ููุง</Link> ููุฒูุฏ ูู ุงูุฃูุซูุฉ.
</Callout>

ุซู ููููู ุงุณุชูุฑุงุฏ `useSWR` ูุงูุจุฏุก ูู ุงุณุชุฎุฏุงูู ุฏุงุฎู ุฃู ููููุงุช ูุธูููุฉ:

```jsx
import useSWR from 'swr'

function Profile () {
  const { data, error, isLoading } = useSWR('/api/user/123', fetcher)

  if (error) return <div>failed to load</div>
  if (isLoading) return <div>loading...</div>

  // render data
  return <div>hello {data.name}!</div>
}
```

ุนุงุฏุฉุ ููุงู 3 ุญุงูุงุช ูุญุชููุฉ ููุทูุจ: `loading` ุฃู `ready` ุฃู `eror`. ููููู ุงุณุชุฎุฏุงู ูููุฉ `data` ู`error` ู`isLoading` ุฅูู 
ุญุฏุฏ ุงูุญุงูุฉ ุงูุฑุงููุฉ ููุทูุจุ ูุฃุนุฏ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูููุงุจูุฉ. 
 
## ุงุฌุนููุง ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู [#make-it-reusable] 
 
 ุนูุฏ ุฅูุดุงุก ุชุทุจูู ููุจุ ูุฏ ุชุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ูู ุงูุนุฏูุฏ ูู ุฃูุงูู ูุงุฌูุฉ ุงููุณุชุฎุฏู. ูู ุงูุณูู ููุบุงูุฉ ุฅูุดุงุก ุฎุทุงูุงุช ุจูุงูุงุช ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู 
 ุนูู ุฑุฃุณ SWR:


```jsx
function useUser (id) {
  const { data, error, isLoading } = useSWR(`/api/user/${id}`, fetcher)

  return {
    user: data,
    isLoading,
    isError: error
  }
}
```

ูุงุณุชุฎุฏูู ูู ููููุงุชู:

```jsx
function Avatar ({ id }) {
  const { user, isLoading, isError } = useUser(id)

  if (isLoading) return <Spinner />
  if (isError) return <Error />
  return <img src={user.avatar} />
}
```

ูู ุฎูุงู ุงุนุชูุงุฏ ูุฐุง ุงูููุทุ ููููู ูุณูุงู **ุฌูุจ ุงูุจูุงูุงุช** ุจุงูุทุฑููุฉ ุงูุญุชููุฉ: ุจุฏุก ุงูุทูุจุ ูุชุญุฏูุซ ุญุงูุฉ ุงูุชุญูููุ ูุฅุฑุฌุงุน ุงููุชูุฌุฉ ุงูููุงุฆูุฉ. ุฑูู 
ุจุฏูุง ูู ุฐููุ ุฑูุฒู ุฃูุซุฑ ุฅุนูุงููุฉ: ุชุญุชุงุฌ ููุท ุฅูู ุชุญุฏูุฏ ุงูุจูุงูุงุช ุงูุชู ูุณุชุฎุฏููุง ุงููููู. ุฑูู 
 
## ูุซุงู [#ูุซุงู] ุฑูู 

ูู ูุซุงู ูู ุงูุนุงูู ุงูุญููููุ ูุนุฑุถ ูููุนูุง ุงูุฅููุชุฑููู ุดุฑูุท ุงูุชููู ูุงููุญุชููุ ูููุงููุง ูุนุชูุฏ ุนูู "ุงููุณุชุฎุฏู":

import { Welcome } from 'components/diagrams/welcome'

<div className="mt-8">
  <Welcome/>
</div>

ุชูููุฏูุงุ ูููู ุจุฌูุจ ุงูุจูุงูุงุช ูุฑุฉ ูุงุญุฏุฉ ุจุงุณุชุฎุฏุงู `useEffect` ูู ูููู ุงููุณุชูู ุงูุฃุนููุ ูููุฑุฑูุง ุฅูู ุงูููููุงุช ุงููุฑุนูุฉ ุนุจุฑ ุงูุฏุนุงุฆู (ูุงุญุธ ุฃููุง ูุง ูุชุนุงูู ูุน ุญุงูุฉ ุงูุฎุทุฃ ูู ุงูููุช ุงูุญุงูู):

```jsx {7-11,17,18,27}
// page component

function Page () {
  const [user, setUser] = useState(null)

  // fetch data
  useEffect(() => {
    fetch('/api/user')
      .then(res => res.json())
      .then(data => setUser(data))
  }, [])

  // global loading state
  if (!user) return <Spinner/>

  return <div>
    <Navbar user={user} />
    <Content user={user} />
  </div>
}

// child components

function Navbar ({ user }) {
  return <div>
    ...
    <Avatar user={user} />
  </div>
}

function Content ({ user }) {
  return <h1>Welcome back, {user.name}</h1>
}

function Avatar ({ user }) {
  return <img src={user.avatar} alt={user.name} />
}
```

ุนุงุฏุฉุ ูุญุชุงุฌ ุฅูู ุงูุญูุงุธ ุนูู ุฌููุน ุงูุจูุงูุงุช ุงูุชู ุชุฌูุจ ูู ูููู ุงููุณุชูู ุงูุฃุนูู ูุฅุถุงูุฉ ุงูุฏุนุงุฆู ุฅูู ูู ูููู ูู ุฃุนูุงู ุงูุดุฌุฑุฉ. ุฑูู 
ุณูุตุจุญ ูู ุงูุตุนุจ ุงูุญูุงุธ ุนูู ุงูุฑูุฒ ุฅุฐุง ุฃุถููุง ุงููุฒูุฏ ูู ุชุจุนูุฉ ุงูุจูุงูุงุช ุฅูู ุงูุตูุญุฉ. ุฑูู 
 
ุนูู ุงูุฑุบู ูู ุฃูู ูููููุง ุชุฌูุจ ุชูุฑูุฑ ุงูุฏุนุงุฆู ุจุงุณุชุฎุฏุงู [Context](https://reactjs.org/docs/context.html)ุ ุฅูุง ุฃูู ูุง ุชุฒุงู ููุงู ูุดููุฉ ุงููุญุชูู ุงูุฏููุงูููู: ุฑูู 
ูููู ุฃู ุชููู ุงูููููุงุช ุฏุงุฎู ูุญุชูู ุงูุตูุญุฉ ุฏููุงููููุฉุ ููุฏ ูุง ูุนุฑู ูููู ุงููุณุชูู ุงูุฃุนูู ุงูุจูุงูุงุช ุงูุชู ุณุชุญุชุงุฌูุง ููููุงุชู ุงููุฑุนูุฉ. ุฑูู 
 
ูุญู SWR ุงููุดููุฉ ุจุดูู ูุซุงูู. ุจุงุณุชุฎุฏุงู ุฎุทุงู `userUser` ุงูุฐู ุฃูุดุฃูุงู ููุชูุ ูููู ุฅุนุงุฏุฉ ููููุฉ ุงูุฑูุฒ ุฅูู:

```jsx {20,26}
// page component

function Page () {
  return <div>
    <Navbar />
    <Content />
  </div>
}

// child components

function Navbar () {
  return <div>
    ...
    <Avatar />
  </div>
}

function Content () {
  const { user, isLoading } = useUser()
  if (isLoading) return <Spinner />
  return <h1>Welcome back, {user.name}</h1>
}

function Avatar () {
  const { user, isLoading } = useUser()
  if (isLoading) return <Spinner />
  return <img src={user.avatar} alt={user.name} />
}
```

ุงูุจูุงูุงุช ุงูุขู **ูุฑุชุจุทุฉ** ุจุงูููููุงุช ุงูุชู ุชุญุชุงุฌ ุฅูู ุงูุจูุงูุงุชุ ูุฌููุน ุงูููููุงุช **ูุณุชููุฉ** ุนู ุจุนุถูุง ุงูุจุนุถ. 
ูุง ุชุญุชุงุฌ ุฌููุน ุงูููููุงุช ุงูุฃู ุฅูู ูุนุฑูุฉ ุฃู ุดูุก ุนู ุงูุจูุงูุงุช ุฃู ุชูุฑูุฑ ุงูุจูุงูุงุช ุญูููุง. ุฅููู ููุฏููู ููุท. 
ุงูุฑูุฒ ุฃุจุณุท ุจูุซูุฑ ูุฃุณูู ูู ุงูุตูุงูุฉ ุงูุขู. 
 
ุฃุฌูู ุดูุก ูู ุฃูู ูู ูููู ููุงู ุณูู **ุทูุจ ูุงุญุฏ** ูุชู ุฅุฑุณุงูู ุฅูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุชุ ูุฃููู ูุณุชุฎุฏููู ููุณ ููุชุงุญ SWR ู 
ุงูุทูุจ **ูุชูู** ู **ูุฎุฒู ูุคูุชุง** ู **ูุดุชุฑู** ุชููุงุฆูุง. 
 
ุฃูุถุงุ ุงูุชุทุจูู ูุฏูู ุงูุขู ุงููุฏุฑุฉ ุนูู ุฅุนุงุฏุฉ ุฌูุจ ุงูุจูุงูุงุช ุนูู [ุชุฑููุฒ ุงููุณุชุฎุฏู ุฃู ุฅุนุงุฏุฉ ุงุชุตุงู ุงูุดุจูุฉ](/docs/revalidation)! 
ูุฐุง ูุนูู ุฃูู ุนูุฏูุง ูุณุชููุธ ุงูููุจููุชุฑ ุงููุญููู ุงูุฎุงุต ุจุงููุณุชุฎุฏู ูู ูุถุน ุงูุณููู ุฃู ููุชูู ุจูู ุนูุงูุงุช ุชุจููุจ ุงููุชุตูุญุ ุณูุชู ุชุญุฏูุซ ุงูุจูุงูุงุช ุชููุงุฆูุง.
