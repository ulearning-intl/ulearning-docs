import { Callout } from 'nextra-theme-docs'

ๆบ็ฟป
# ุงูุงุณุชุฎุฏุงู ูุน Next.js ุฑูู 

## ุฌูุงุฒ ุชูุฌูู ุงูุชุทุจูู [#app-dir] ุฑูู 

### ููููุงุช ุงูุฎุงุฏู [#rsc]

<Callout type="default" emoji="โ">
   ูู Next.js App Routerุ ุฌููุน ุงูููููุงุช ูู ููููุงุช ุฎุงุฏู React (RSC) ุงูุชุฑุงุถูุง. **ููููู ููุท ุงุณุชูุฑุงุฏ ูุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุชุณูุณู ุงูุฑุฆูุณูุฉ ูู SWR ูู RSC.**
</Callout>

```tsx filename="app/page.tsx" copy
import { unstable_serialize } from 'swr' // โ Available in server components
import { unstable_serialize as infinite_unstable_serialize } from 'swr/infinite' // โ Available in server components
```

<Callout type="error">
ูุง ููููู ุงุณุชูุฑุงุฏ ุฃู ูุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช ุฃุฎุฑู ูู SWR ูุฃููุง ุบูุฑ ูุชููุฑุฉ ูู RSC.
</Callout>

```tsx filename="app/page.tsx" highlight={1}
import useSWR from 'swr' // โ This is not available in server components
```

### ููููุงุช ุงูุนููู 

ููููู ูุถุน ุนูุงูุฉ ุนูู ููููุงุชู ุจุชูุฌูู `'use client'` ุฃู ุงุณุชูุฑุงุฏ SWR ูู ููููุงุช ุงูุนูููุ ุณูุณูุญ ูู ููุง ุงูุงุชุฌุงููู ุจุงุณุชุฎุฏุงู ุฎุทุงูุงุช ุฌูุจ ุจูุงูุงุช ุนููู SWR.

```tsx filename="app/page.tsx" highlight={1} copy
'use client'
import useSWR from 'swr'
export default Page() {
  const { data } = useSWR('/api/user', fetcher)
  return <h1>{data.name}</h1>
}
```

ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุงุณุชุฎุฏุงู `SWRConfig` ูุชูููู ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูููุฉ ูู ููููุงุช ุงูุฎุงุฏู `layout` ุฃู `page`ุ ูุฅูุดุงุก ูููู ุนููู ูููุตู ููุฒูุฏ ูุฅุนุฏุงุฏ ุงููุฒูุฏ ูุงูุชููููุ ุซู ุงุณุชุฎุฏูู ูู ุตูุญุงุช ูููู ุงูุฎุงุฏู.

```tsx filename="app/swr-provider.tsx" copy
'use client';
import { SWRConfig } from 'swr'
export const SWRProvider = ({ children }) => {
  return <SWRConfig>{children}</SWRConfig>
};
```

```tsx filename="app/page.tsx" copy
// This is still a server component
import { SWRProvider } from './swr-provider'
export default Page() {
  return (
    <SWRProvider>
      <h1>hello SWR</h1>
    </SWRProvider>
  )
}
```


## ุฌูุจ ุงูุจูุงูุงุช ูู ุฌุงูุจ ุงูุนููู [#ุฌูุจ ุงูุจูุงูุงุช ูู ุฌุงูุจ ุงูุนููู] 

ุฅุฐุง ูุงูุช ุตูุญุชู ุชุญุชูู ุนูู ุจูุงูุงุช ูุชู ุชุญุฏูุซูุง ุจุดูู ูุชูุฑุฑุ ููุง ุชุญุชุงุฌ ุฅูู ุชูุฏูู ุงูุจูุงูุงุช ูุณุจูุงุ ูุฅู SWR ููุงุณุจ ุชูุงูุง ููุง ููุฒู ุฅุนุฏุงุฏ ุฎุงุต: ูุง ุนููู ุณูู ุงุณุชูุฑุงุฏ `useSWR` ูุงุณุชุฎุฏุงู ุงูุฎุทุงู ุฏุงุฎู ุฃู ููููุงุช ุชุณุชุฎุฏู ุงูุจูุงูุงุช. 
 
ุฅููู ููููุฉ ุนููู: 
 
- ุฃููุงุ ูู ุจุนุฑุถ ุงูุตูุญุฉ ุนูู ุงูููุฑ ุจุฏูู ุจูุงูุงุช. ููููู ุฅุธูุงุฑ ุญุงูุงุช ุงูุชุญููู ููุจูุงูุงุช ุงูููููุฏุฉ. 
- ุจุนุฏ ุฐููุ ุฃุญุถุฑ ุงูุจูุงูุงุช ุนูู ุฌุงูุจ ุงูุนููู ูุนุฑุถูุง ุนูุฏูุง ุชููู ุฌุงูุฒุฉ.

ูุนูู ูุฐุง ุงูููุฌ ุจุดูู ุฌูุฏ ูุตูุญุงุช ููุญุฉ ูุนูููุงุช ุงููุณุชุฎุฏูุ ุนูู ุณุจูู ุงููุซุงู. ูุธุฑุง ูุฃู ููุญุฉ ุงููุนูููุงุช ูู ุตูุญุฉ ุฎุงุตุฉ ุจุงููุณุชุฎุฏูุ ูุฅู ุชุญุณูู ูุญุฑูุงุช ุงูุจุญุซ ุบูุฑ ุฐุงุช ุตูุฉ ููุง ุชุญุชุงุฌ ุงูุตูุญุฉ ุฅูู ุชูุฏูููุง ูุณุจูุง. ูุชู ุชุญุฏูุซ ุงูุจูุงูุงุช ุจุดูู ูุชูุฑุฑุ ููุง ูุชุทูุจ ุฌูุจ ุจูุงูุงุช ููุช ุงูุทูุจ.

## ุงูุชูุฏูู ุงููุณุจู ุจุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ [#pre-rendering-with-default-data] 
 
ุฅุฐุง ูุงู ูุฌุจ ุชูุฏูู ุงูุตูุญุฉ ูุณุจูุงุ ูุฅู Next.js ูุฏุนู [ุดูููู ูู ุฃุดูุงู ุงูุชูุฏูู ุงููุณุจู](https://nextjs.org/docs/basic-features/data-fetching): 
**ุงูุฌูู ุงูุซุงุจุช (SSG)** ู**ุงูุชูุฏูู ูู ุฌุงูุจ ุงูุฎุงุฏู (SSR)**. 
 
ุฌูุจุง ุฅูู ุฌูุจ ูุน SWRุ ููููู ุชูุฏูู ุงูุตูุญุฉ ูุณุจูุง ููุจุงุฑ ุงููุณุฆูููู ุงูุงูุชุตุงุฏูููุ ููุฏูู ุฃูุถุง ููุฒุงุช ูุซู ุงูุชุฎุฒูู ุงููุคูุช ูุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงููููุฉ ูุชุชุจุน ุงูุชุฑููุฒ ูุฅุนุงุฏุฉ ุงูุฌูุจ ุนูู ุงููุงุตู ุงูุฒููู ุนูู ุฌุงูุจ ุงูุนููู. 
 
ููููู ุงุณุชุฎุฏุงู ุฎูุงุฑ `fallback` ูู [`SWRConfig`](/docs/global-configuration) ูุชูุฑูุฑ ุงูุจูุงูุงุช ุงูุชู ุชู ุฌูุจูุง ูุณุจูุง ููููุฉ ุฃูููุฉ ูุฌููุน ุฎุทุงูุงุช SWR. 
 
ุนูู ุณุจูู ุงููุซุงู ูุน `getStaticProps`:

```jsx
 export async function getStaticProps () {
  // `getStaticProps` is executed on the server side.
  const article = await getArticleFromAPI()
  return {
    props: {
      fallback: {
        '/api/article': article
      }
    }
  }
}

function Article() {
  // `data` will always be available as it's in `fallback`.
  const { data } = useSWR('/api/article', fetcher)
  return <h1>{data.title}</h1>
}

export default function Page({ fallback }) {
  // SWR hooks inside the `SWRConfig` boundary will use those values.
  return (
    <SWRConfig value={{ fallback }}>
      <Article />
    </SWRConfig>
  )
}
```

ูุง ุชุฒุงู ุงูุตูุญุฉ ููุฏูุฉ ูุณุจูุง. ุฅูู ุตุฏูู ููุจุงุฑ ุงููุณุฆูููู ุงูุงูุชุตุงุฏูููุ ูุณุฑูุน ุงูุงุณุชุฌุงุจุฉุ ููููู ุฃูุถุง ูุฏุนูู ุจุงููุงูู ูู SWR ูู ุฌุงูุจ ุงูุนููู. ูููู ุฃู ุชููู ุงูุจูุงูุงุช ุฏููุงููููุฉ ููุญุฏุซุฉ ุฐุงุชูุง ุจูุฑูุฑ ุงูููุช.

<Callout emoji="๐ก">
ุณูุนุฑุถ ูููู `Article` ุงูุจูุงูุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ูุณุจูุง ุฃููุงุ ูุจุนุฏ ุชุฑุทูุจ ุงูุตูุญุฉุ ุณูุฌูุจ ุฃุญุฏุซ ุงูุจูุงูุงุช ูุฑุฉ ุฃุฎุฑู ููุญูุงุธ ุนูู ุชุญุฏูุซูุง.

</Callout>

### ููุงุชูุญ ูุนูุฏุฉ [#ููุงุชูุญ ูุนูุฏุฉ]

ูููู ุงุณุชุฎุฏุงู `useSWR` ูุน ุงูููุงุชูุญ ุงูุชู ูู ุฃููุงุน `array` ู`function`. ูุชุทูุจ ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงูุชู ุชู ุฌูุจูุง ูุณุจูุง ูุน ูุฐู ุงูุฃููุงุน ูู ุงูููุงุชูุญ ุชุณูุณู ููุงุชูุญ "ุงูุชุฑุงุฌุน" ุจุงุณุชุฎุฏุงู `unstable_serialize`.

```jsx
import useSWR, { unstable_serialize } from 'swr'

export async function getStaticProps () {
  const article = await getArticleFromAPI(1)
  return {
    props: {
      fallback: {
        // unstable_serialize() array style key
        [unstable_serialize(['api', 'article', 1])]: article,
      }
    }
  }
}

function Article() {
  // using an array style key.
  const { data } = useSWR(['api', 'article', 1], fetcher)
  return <h1>{data.title}</h1>
}

export default function Page({ fallback }) {
  return (
    <SWRConfig value={{ fallback }}>
      <Article />
    </SWRConfig>
  )
}
```
