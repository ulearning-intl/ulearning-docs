import { Callout } from 'nextra-theme-docs'

# Suspense

<Callout emoji="๐จ" type="error">
  ูุง ูุฒุงู React <strong>ูุง ููุตู</strong> ุจุงุณุชุฎุฏุงู `Suspense` ูู ุฃุทุฑ ุงูุจูุงูุงุช ูุซู SWR (<a href="https://reactjs.org/blog/2022/03/29/react-v18.html#suspense-in-data-frameworks" target="_blank" rel="noopener">ูุฒูุฏ ูู ุงููุนูููุงุช</a>).ูุฏ ุชุชุบูุฑ ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฐู ูู ุงููุณุชูุจู ููุชุงุฆุฌ ูุฃุจุญุงุซูุง.
</Callout>

ููููู ุชูููู ุฎูุงุฑ `suspense` ูุงุณุชุฎุฏุงู SWR ูุน React Suspense:

```jsx
import { Suspense } from 'react'
import useSWR from 'swr'

function Profile () {
  const { data } = useSWR('/api/user', fetcher, { suspense: true })
  return <div>hello, {data.name}</div>
}

function App () {
  return (
    <Suspense fallback={<div>loading...</div>}>
      <Profile/>
    </Suspense>
  )
}
```

<Callout>
  ูุงุญุธ ุฃูู ูุง ูุณูุญ ูุฎูุงุฑ `suspense` ุจุงูุชุบููุฑ ูู ุฏูุฑุฉ ุงูุญูุงุฉ.
</Callout>

ูู ูุถุน ุงูุชุดูููุ ุชููู `data` ุฏุงุฆูุง ุงุณุชุฌุงุจุฉ ุงูุฌูุจ (ูุฐูู ูุง ุชุญุชุงุฌ ุฅูู ุงูุชุญูู ููุง ุฅุฐุง ูุงูุช `undefined`). 
ูููู ูู ุญุงูุฉ ุญุฏูุซ ุฎุทุฃุ ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู [ุญุฏูุฏ ุงูุฎุทุฃ](https://reactjs.org/docs/concurrent-mode-suspense.html#handling-errors) ูููุจุถ ุนููู:

```jsx
<ErrorBoundary fallback={<h2>Could not fetch posts.</h2>}>
  <Suspense fallback={<h1>Loading posts...</h1>}>
    <Profile />
  </Suspense>
</ErrorBoundary>
```

<Callout>
ูุนูู ูุถุน ุงูุชุดููู ุงูุนุฑุถ ุญุชู ุชุตุจุญ ุงูุจูุงูุงุช ุฌุงูุฒุฉุ ููุง ูุนูู ุฃูู ูุณุจุจ ูุดุงูู ูู ุงูุดูุงู ุจุณูููุฉ. ูุชุฌูุจ ุฐููุ ูุฌุจ ุนููู ุฌูุจ ุงูููุงุฑุฏ ูุณุจูุง ูุจู ุงูุชูุฏูู. [ูุฒูุฏ ูู ุงููุนูููุงุช](/docs/prefetching)
</Callout>

---

### ููุงุญุธุฉ: ูุน ุงูุฌูุจ ุงููุดุฑูุท [#note-with-conditional-fetching] 

ุนุงุฏุฉุ ุนูุฏ ุชูููู "ุงูุชุดููู"ุ ูุถูู ุฃู "ุงูุจูุงูุงุช" ุณุชููู ุฏุงุฆูุง ุฌุงูุฒุฉ ููุชุตููุฑ:

```jsx
function Profile () {
  const { data } = useSWR('/api/user', fetcher, { suspense: true })

  // `data` will never be `undefined`
  // ...
}
```

ููุน ุฐููุ ุนูุฏ ุงุณุชุฎุฏุงูู ูุน ุงูุฌูุจ ุงููุดุฑูุท ุฃู ุงูุฌูุจ ุงูุชุงุจุนุ ุณุชููู `data` `undefined` ุฅุฐุง ูุงู ุงูุทูุจ **ูุชูููุง ูุคูุชุง**:

```jsx
function Profile () {
  const { data } = useSWR(isReady ? '/api/user' : null, fetcher, { suspense: true })

  // `data` will be `undefined` if `isReady` is false
  // ...
}
```

ุฅุฐุง ููุช ุชุฑุบุจ ูู ูุฑุงุกุฉ ุงููุฒูุฏ ูู ุงูุชูุงุตูู ุงููููุฉ ุญูู ูุฐุง ุงูุชูููุฏุ ูุชุญูู ูู [ุงูููุงูุดุฉ ููุง](https://github.com/vercel/swr/pull/357#issuecomment-627089889). ุฑูู 
 
### ุงูุชูุฏูู ูู ุฌุงูุจ ุงูุฎุงุฏู [#ุงูุชูุฏูู ูู ุฌุงูุจ ุงูุฎุงุฏู] ุฑูู 
 
ุนูุฏ ุงุณุชุฎุฏุงู ูุถุน ุงูุชุดููู ุนูู ุฌุงูุจ ุงูุฎุงุฏู (ุจูุง ูู ุฐูู ุงูุชูุฏูู ุงููุณุจู ูู Next.js)ุ **ูุทููุจ** ุชูููุฑ ุงูุจูุงูุงุช ุงูุฃูููุฉ ุนุจุฑ [fallbackData ุฃู fallback](/docs/with-nextjs#pre-rendering-with-default-data). ูุฐุง ูุนูู ุฃูู ูุง ููููู ุงุณุชุฎุฏุงู `Suspense` ูุฌูุจ ุงูุจูุงูุงุช ุนูู ุฌุงูุจ ุงูุฎุงุฏูุ ูููู ุฅูุง ุงูููุงู ุจุฌูุจ ุงูุจูุงูุงุช ูู ุฌุงูุจ ุงูุนููู ุจุงููุงููุ ุฃู ุฌูุจ ุงูุจูุงูุงุช ุนุจุฑ ุทุฑููุฉ ุฌูุจ ุงูุจูุงูุงุช ุนูู ูุณุชูู ุงูุฅุทุงุฑ (ูุซู getStaticProps ูู Next.js). ูููู ุงูุนุซูุฑ ุนูู ุงููุฒูุฏ ูู ุงูููุงูุดุงุช [ููุง](https://github.com/vercel/swr/issues/1906).
