机翻

# الجلب المشروط 

## مشروط [#مشروط] 

استخدم `null` أو مرر دالة ك `key` لجلب البيانات بشكل مشروط. إذا ألقت الدالة قيمة زائفة أو أعادتها، فلن تبدأ SWR الطلب.

```js
// conditionally fetch
const { data } = useSWR(shouldFetch ? '/api/data' : null, fetcher)

// ...or return a falsy value
const { data } = useSWR(() => shouldFetch ? '/api/data' : null, fetcher)

// ...or throw an error when user.id is not defined
const { data } = useSWR(() => '/api/data?uid=' + user.id, fetcher)
```

## تابع [#تابع] 

 يسمح لك SWR أيضا بجلب البيانات التي تعتمد على البيانات الأخرى. إنه يضمن أقصى قدر ممكن من التوازي (تجنب الشلالات)، وكذلك الجلب التسلسلي عند الحاجة إلى جزء من البيانات الديناميكية لجلب البيانات التالي.

```js
function MyProjects () {
  const { data: user } = useSWR('/api/user')
  const { data: projects } = useSWR(() => '/api/projects?uid=' + user.id)
  // When passing a function, SWR will use the return
  // value as `key`. If the function throws or returns
  // falsy, SWR will know that some dependencies are not
  // ready. In this case `user.id` throws when `user`
  // isn't loaded.

  if (!projects) return 'loading...'
  return 'You have ' + projects.length + ' projects'
}
```
