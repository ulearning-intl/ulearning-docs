æœºç¿»
# ØªØ§ÙŠØ¨ Ø§Ø³ÙƒØ±Ø¨Øª Ø±Ù‚Ù… 

SWR Ø³Ù‡Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ÙƒØªÙˆØ¨Ø© Ø¨Ù„ØºØ© TypeScriptØŒ Ù…Ø¹ Ø£Ù…Ø§Ù† Ø§Ù„Ù†ÙˆØ¹ Ø®Ø§Ø±Ø¬ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚. Ø±Ù‚Ù… 
 
## Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ  Ø±Ù‚Ù… [#Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ]
 
Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠØŒ Ø³ÙŠØ³ØªÙ†ØªØ¬ SWR Ø£ÙŠØ¶Ø§ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ÙˆØ³ÙŠØ·Ø© Ù…Ù† `fetcher` Ù…Ù† `key`ØŒ Ø­ØªÙ‰ ØªØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…ÙØ¶Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§. Ø±Ù‚Ù… 
 
### useSWR[#useswr]

```typescript
// `key` is inferred to be `string`
useSWR('/api/user', key => {})
useSWR(() => '/api/user', key => {})

// `key` will be inferred as { a: string; b: { c: string; d: number } }
useSWR({ a: '1', b: { c: '3', d: 2 } }, key => {})
useSWR(() => ({ a: '1', b: { c: '3', d: 2 } }), key => {})

// `arg0` will be inferred as string.  `arg1` will be inferred as number
useSWR(['user', 8], ([arg0, arg1]) => {})
useSWR(() => ['user', 8], ([arg0, arg1]) => {})
```

ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ø§ ØªØ­Ø¯ÙŠØ¯ Ø£Ù†ÙˆØ§Ø¹ ÙˆØ³ÙŠØ·Ø§Øª `key` Ùˆ`fetcher` Ø¨Ø´ÙƒÙ„ ØµØ±ÙŠØ­.

```typescript
import useSWR, { Fetcher } from 'swr'

const uid = '<user_id>'
const fetcher: Fetcher<User, string> = (id) => getUserById(id)

const { data } = useSWR(uid, fetcher)
// `data` will be `User | undefined`.
```

Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠØŒ [Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø°ÙŠ ØªÙ… Ø¥Ù„Ù‚Ø§Ø¤Ù‡](/docs/error-handling) Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¯Ø§Ù„Ø© `fetcher` Ù„Ù‡ Ù†ÙˆØ¹ `any`. ÙŠÙ…ÙƒÙ† Ø£ÙŠØ¶Ø§ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†ÙˆØ¹ Ø¨Ø´ÙƒÙ„ ØµØ±ÙŠØ­.

```typescript
const { data, error } = useSWR<User, Error>(uid, fetcher);
// `data` will be `User | undefined`.
// `error` will be `Error | undefined`.
```

### useSWRInfinite [#useswrinfinite] 

Ù†ÙØ³ Ø§Ù„Ø´ÙŠØ¡ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ø¥Ù„Ù‰ `swr/infinite`ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ù…Ø§ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ¯Ù„Ø§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù†ÙˆØ¹ Ø£Ùˆ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø¨Ù†ÙØ³Ùƒ Ø¨Ø´ÙƒÙ„ ØµØ±ÙŠØ­.

```typescript
import { SWRInfiniteKeyLoader } from 'swr/infinite'

const getKey: SWRInfiniteKeyLoader = (index, previousPageData) => {
  // ...
}

const { data } = useSWRInfinite(getKey, fetcher)
```


### useSWRSubscription[#useswrsubscription]

* ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ù…Ø¶Ù…Ù†Ø© ÙˆØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ "Ø§Ù„ØªØ§Ù„ÙŠ" ÙŠØ¯ÙˆÙŠØ§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `SWRSubscriptionOptions`.

```tsx
import useSWRSubscription from 'swr/subscription'
import type { SWRSubscriptionOptions } from 'swr/subscription'

const { data, error } = useSWRSubscription('key', 
  (key, { next }: SWRSubscriptionOptions<number, Error>) => {
  //^ key will be inferred as `string`
  //....
  })
  return {
    data,
    //^ data will be inferred as `number | undefined`
    error
    //^ error will be inferred as `Error | undefined`
  }
}
```

* Ø£Ø¹Ù„Ù† Ø¹Ù† ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `SWRSubscription`

```tsx
import useSWRSubscription from 'swr/subscription'
import type { SWRSubscription } from 'swr/subscription'

/** 
 * The first generic is Key
 * The second generic is Data
 * The Third generic is Error
 */
const sub: SWRSubscription<string, number, Error> = (key, { next }) => {                         
  //......
}
const { data, error } = useSWRSubscription('key', sub)
```



## Ø§Ù„Ø¬Ù†ÙŠØ³  Ø±Ù‚Ù… [#generics]

Ù…Ù† Ø§Ù„Ø³Ù‡Ù„ ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ `data`. Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠØŒ Ø³ÙŠØ³ØªØ®Ø¯Ù… Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹ `fetcher` (Ù…Ø¹ `undefined` Ù„Ù„Ø­Ø§Ù„Ø© ØºÙŠØ± Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©) ÙƒÙ†ÙˆØ¹ `data`ØŒ ÙˆÙ„ÙƒÙ† ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ø§ ØªÙ…Ø±ÙŠØ±Ù‡ ÙƒÙ…Ø¹Ù„Ù…Ø©:

```typescript
// ğŸ”¹ A. Use a typed fetcher:
// `getUser` is `(endpoint: string) => User`.
const { data } = useSWR('/api/user', getUser)

// ğŸ”¹ B. Specify the data type:
// `fetcher` is generally returning `any`.
const { data } = useSWR<User>('/api/user', fetcher)
```

Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ±ØºØ¨ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø£Ù†ÙˆØ§Ø¹ Ù„Ø®ÙŠØ§Ø±Ø§Øª SWR Ø§Ù„Ø£Ø®Ø±Ù‰ØŒ ÙÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ø§ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ù…Ø¨Ø§Ø´Ø±Ø©:

```typescript
import useSWR from 'swr'
import type { SWRConfiguration } from 'swr'

const config: SWRConfiguration = {
  fallbackData: "fallback",
  revalidateOnMount: false
  // ...
}

const { data } = useSWR<string[]>('/api/data', fetcher, config)
```

## Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ÙˆØ³ÙŠØ·Ø©  Ø±Ù‚Ù… [#Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ÙˆØ³ÙŠØ·Ø©]

Ù‡Ù†Ø§Ùƒ Ø¨Ø¹Ø¶ ØªØ¹Ø±ÙŠÙØ§Øª Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªÙŠØ±Ø§Ø¯Ù‡Ø§ Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø£Ù†ÙˆØ§Ø¹ Ø¥Ù„Ù‰ Ø¨Ø±Ø§Ù…Ø¬Ùƒ Ø§Ù„ÙˆØ³ÙŠØ·Ø© Ø§Ù„Ù…Ø®ØµØµØ©.

```typescript
import useSWR, { Middleware, SWRHook } from 'swr'

const swrMiddleware: Middleware = (useSWRNext: SWRHook) => (key, fetcher, config) => {
  // ...
  return useSWRNext(key, fetcher, config)
}
```
