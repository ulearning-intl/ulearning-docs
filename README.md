
本手册用于说明帮助中心的写作与维护

# 1. 需求与背景

帮助中心作为产品用户体验和客户印象的重要组成部分，需要在内容编写、界面设计、更新维护方面规范管理。使帮助中心将成为用户获取支持和指导的重要资源，提升产品的价值和用户满意度。

Ulearning国际产品包括公有云与私有化部署项目，为实现对两种不同模式的支持，帮助中心需要满足以下需求：

1. 提供全面的产品信息：帮助中心应提供详尽的产品相关信息，包括产品功能、操作指南和最新版本更新。这将帮助用户更好地了解和使用产品，并及时了解产品的改进和更新。

2. 多语言支持：为了满足不同语言市场的需求，帮助中心应提供多语言版本。这样，用户可以以自己熟悉的语言阅读和理解帮助文档，提高产品的可用性和用户满意度。

3. 维护多个文档版本：根据产品更新和项目交付的需要，需要维护不同的帮助文档版本。每个版本应与相应的产品版本相匹配，以确保用户获取与其使用的产品版本相符的帮助文档。

4. 用户反馈和FAQ更新：建立渠道搜集用户反馈信息，并及时更新帮助中心的FAQ内容。这将帮助减少用户在使用过程中遇到的困难，并提高用户对产品的满意度。

5. 产品知识库与智能客服：帮助中心应积累详尽的产品使用知识，以供智能客服使用。这将提高客户支持的效率，并为用户提供更快速和准确的解决方案。

本文档描述了帮助中心运行和维护的主要工作与相关规范。

# 2. 内容与写作需求


## 2.1 内容要求

一个良好的产品帮助中心应该涵盖以下内容：

产品概要：介绍产品的整体设计理念、架构和核心功能。设产品概要可以帮助用户了解产品的背后原理和逻辑。

用户手册：提供对产品的详细说明，包括功能、界面、操作步骤和常见任务的指导。用户手册应该适用于不同的用户角色和技能水平。

故障排除和常见问题解答：提供故障排除指南和常见问题解答，帮助用户解决常见的问题和故障。这些内容可以减少对技术支持的依赖。

培训材料和教程：提供培训材料和教程，帮助用户学习和掌握产品的各个方面。这些材料可以包括视频教程、演示文稿和在线培训课程。

最佳实践：提供使用产品的最佳实践指南，包括配置建议、操作流程和优化技巧。最佳实践可以帮助用户更高效地使用产品并获得最佳的结果。

使用案例和成功故事：分享使用产品取得成功的案例和故事，以激发用户的创意和灵感，并展示产品的价值和效果。

API文档：如果产品提供API接口，应该提供详细的API文档，包括接口说明、参数、返回值和示例代码。API文档可以帮助开发人员集成和扩展产品功能。

版本更新记录：记录每个产品版本的变更和更新内容。包括新功能、改进、修复的问题和已知的限制。版本更新记录可以帮助用户了解产品的演进和改进。

术语表和缩略词解释：提供产品中使用的术语和缩略词的解释，以帮助用户理解特定的技术术语和概念。

链接和参考资料：提供与产品相关的其他资源和参考资料的链接，包括官方网站、论坛、社区和支持渠道。

以上内容是产品文档中心的一般范围，您可以根据您的产品特点和用户需求进行适当的调整和扩展。确保文档内容清晰、准确，并与产品的演进保持同步。

## 2.2 写作要求

在撰写文档中心内容时，在写作方面要满足以下要求：

1. 清晰明了：文档应该以简洁清晰的语言表达，避免使用过于专业或晦涩的术语。使用简单的句子和段落结构，以帮助读者更好地理解和消化信息。

2. 具体明确：在描述产品特性、操作步骤和概念时，要提供具体和明确的说明。使用示例、截图、图表或视频等辅助材料来帮助读者更好地理解和跟随说明。

3. 结构化组织：将文档划分为逻辑和易于导航的章节和子章节。使用标题和子标题来引导读者，使其能够快速找到所需的信息。考虑使用目录或导航菜单，以便读者可以快速浏览和访问所需的内容。

4. 体例与格式一致性：确保同一类型文档使用的体例和格式是一致的。这有助于提供一致的阅读体验，并增加文档的专业性。如用户手册，需要按照固定的体例进行编写，确保不同功能，不同产品的用户手册的体例是一致的。
	
5. 术语一致性：术语一致性是指在文档中使用相同的术语和词汇，以确保读者对特定概念和术语的理解保持一致。一方面，要确保文档中使用的术语与产品界面中的术语保持一致。另一方面，要确保多语言翻译时，使用相同的术语。

6. 更新及时：随着产品的演进和改进，及时更新文档内容。确保文档与最新版本的产品保持一致，并记录每个版本的变更和更新内容。


# 3. 功能要求

为达到以上需求，帮助中心需要支持以下功能：

1. 搜索功能：提供一个强大的搜索引擎，使用户可以快速查找和访问他们所需的文档内容。这可以通过关键字搜索、过滤选项和高级搜索功能来实现。

2. 多语言支持：为了满足全球用户的需求，提供多语言支持，使用户可以选择他们首选的语言来浏览和阅读文档。这可以通过提供文档的多语言翻译版本来实现。

3. 图片与多媒体支持：允许在文档中插入图片、图表、视频等多媒体元素，以帮助更好地传达信息和演示操作步骤。这可以提高文档的可视化效果和用户体验。

4. 版本控制：实施版本控制系统，以跟踪和管理文档的不同版本。按项目对文档版本进行管理。实现同一文档在不同项目中的更新控制。

5. 用户反馈和评价：为用户提供反馈和评价的渠道，让他们可以提供意见、报告问题或提出建议。这可以帮助改进文档内容和填补潜在的知识空白。

6. 响应式设计：确保帮助中心的界面和布局在不同设备上都能提供良好的用户体验，包括桌面、平板和移动设备。

7. 文档评论和讨论：允许用户在文档中添加评论、提问或进行讨论，以促进用户之间的交流和知识共享。

8. PDF打印：文档内容可导出PDF格式，便于下载使用。 

9. 文档更新和通知：提供对外订阅，当文档更新时，向用户发送通知，使用户可以及时了解到文档的新内容和更新。
10. 人工客服入口：向用户提供人工客服入口，当无法解决问题时，及时联系人工客服介入。

# 4. 维护工作

以下是的产品文档维护工作：

1. 添加新文档：
   - 根据产品的新功能、更新或变更，编写并添加新的文档。
   - 确保新文档的准确性、完整性和易读性。

2. 管理目录：
   - 组织和管理文档的目录结构，以便用户能够轻松找到所需的文档。
   - 根据产品的不同模块、功能或主题，将文档进行分类和分组。

3. 维护首页：
   - 更新产品文档的首页，以反映最新的产品信息和变更。
   - 提供产品的概述、重要公告、最新更新或版本信息等。

4. 按照版本更新文档：
   - 根据产品的版本更新，对文档进行相应的更新和修订。
   - 确保文档与最新版本的产品保持一致，并反映出任何新功能、改进或变更。

5. 翻译文档到指定语言：
   - 如果产品的目标用户涉及多种语言，将文档翻译成其他语言，以满足不同用户的需求。
   - 确保翻译的文档准确传达原始文档的信息和意图。

6.  收集用户反馈：
	-  根据用户反馈更新文档与解决常见问题和困惑。

7.  依据项目控制版本：
	-  根据需要交付的项目要求，生成对应版本的帮助中心，确保交付的内容与项目需求一致。

# 5. Ulearning Doc操作手册

本部分是帮助中心的具体操作手册，列出了日常操作，供产品经理、运维人员使用


## 5.1 项目说明

该项目基于Nextra项目，使用了[Swr项目](https://swr.vercel.app/) 项目作为基础，基于SWR项目的国际化与组件化配置更新。

### 项目结构

主要项目结构信息如下：

```
- pages: 存放文档内容
	- _meta.{locale}.json # 存放该文件夹的路由设置，默认一行一个page，键名是文件名或子文件夹名称，键值是显示名称
	- overview.{locale}.mdx  # 保存文档内容，每一个语言的文档，对应locale的值，如overview.en-US.mdx，对应overview的英语页面。路由为  {domain}/en-US/overview
- public: 存放公共文件，包括img，favico，video等静态文件
	- favico： 存在不同系统的favico文件
	- img： 保存图片文件，依据不同的产品与特性设置子文件夹保存对应文档图片，如/img/utest/teacher文件夹保存utest的教师文档图片
- components： 保存项目组件，如做订制开发，将共有组件，如callout、youtube、read more、pdf打印等功能放到这里
- translations:  存放多语言文本，如各个按钮与连接的多语言翻译。如果开发的组件中含有文本，在text.js中注册多语言界面而后进行languageMap
- next.config.js ：next项目配置文件
- theme.config.js： nextra的主题文件，参考nextra的主题配置
- cli.js: 项目维护常用的命令行，因多语言项目维护较为繁琐，使用命令行简化日常维护工作
```

**注意事项：**

1. next 13.4 -- 14.0版本中，多语言支持设置middleware后会出现redirect loop,导致多语言无法无法使用，所以在package.json中，将nextjs版本固定为13.2.4  nextra和nextra-them-docs的版本也可固定以防止版本冲突
```
    "next": "13.2.4",

    "nextra": "^2.4.2",

    "nextra-theme-docs": "^2.4.2",
```

### 导航栏配置
在pages文件夹下的_meta.{locale}.json配置导航栏，导航栏可增加菜单、外链等。详细参考nextra的导航栏配置

```
{

  "products": {

    "title": "Products",

    "type": "menu",

    "items": {

      "ULearning": {

        "title": "Ulearning",

        "href": "/ulearning/getting-started"

      },

      "UClass": {

        "title": "UClass",

        "href": "/uclass"

      },

      "utest": {

        "title": "UTest Online Exam",

        "href": "/utest/teacher"

      }

    }

  },

  "index": {

    "title": "Introduction",

    "type": "page",

    "display": "hidden"

  },

  "ulearning": {

    "title": "ULearning",

    "type": "page",

    "display": "hidden"

  },

  "utest": {

    "title": "UTest",

    "type": "page",

    "display": "hidden"

  },

  "docs": {

    "title": "Docs",

    "type": "page",

    "href": "/docs/getting-started"

  },

  "solutions": {

    "title": "Solutions",

    "type": "page"

  },

  "practices": {

    "title": "Best Practices",

    "type": "page"

  },

  "blog": {

    "title": "Blog",

    "type": "page",

    "href": "/blog",

    "theme": {

      "sidebar": false

    }

  }

}
```

### 多语言配置

在项目的next.config.js文件中配置支持的语言，这里语言代码将会用于路由以及对该语言的名称。如overview.id-ID.mdx文档，将对应为overview文件的印尼语格式。

next.config.js中的i18n的 locales变量，也将同步用于命令行生成元数据文件与文档文件。参考[nextra的i18n配置](https://nextra.site/docs/guide/i18n)

```next.config.js
  i18n: {

    locales: ["en-US", "zh-CN",'zh-TW', "es-ES", "fr-FR", "pt-BR", "ja", "ko", "ru", 'id-ID', 'th-TH', 'ar'],

    defaultLocale: "en-US",

  },
```

完成next项目的i18n配置后，在theme.config.js中，配置各语言名称。该配置决定切换语言下拉菜单中对应语言的名称与顺序。参考[nextra的i18n配置]

```theme.config.js
  i18n: Object.entries(languageMap).map(([locale, text]) => ({
    locale,
    text,
  })),
```

在SWR项目中，将语言有关的映射放到了translation文件夹中的text.js中，在该文件中，修改映射值，切换语言菜单将对应修改。
```
export const languageMap = {

  "en-US": "English",

  "es-ES": "Español",

  "fr-FR": "Français",

  "id-ID": "Bahasa Indonesia",

  "th-TH": "ไทย",

  "ar": "العربية",

  "zh-CN": "简体中文",

  "zh-TW": "繁體中文",

  ja: "日本語",

  ko: "한국어",

  ru: "Русский",

  "pt-BR": "Português Brasileiro",

};
```

## 5.2 文档维护

### 目录结构

nextra使用_meta.json文件，保存目录结构。文档逻辑如下：
1. 每个文件夹中使用_meta.json文件保存页面在目录中的名称与位置，如果文件夹中的文件没有出现在_meta.json中，将使用文件名作为默认名称。

2. _meta.json文件设置该级目录下的路由，可依据需要，设置路由是否显示以及增加外部连接，详细参考[nextra的页面设置](https://nextra.site/docs/docs-theme/page-configuration)

3. 如果文件夹下有同名的文件与子文件夹，使用该文件内容作为路由内容，使用子文件夹下文件作为子目录。如在文件夹下同时存在teacher.{locale}.mdx文件与teacher子文件夹，则访问 en-US/teacher 路由，显示page的内容，点击后右侧显示teacher子文件夹内的文件目录

### 增加新的目录

如果文档中需要增加新的目录，需要做以下工作：
1. 创建目录

注意目录名称将会对应到路由中的路径。如pages/ulearning/teacher文件夹，对应到 {locale}/ulearning/teacher路由

### 创建多语言文档页面

每个文件对应一个页面。使用{locale}后缀，创建对应语言页面。如要在LMS的teacher手册增加课程管理页面，在teacher文件夹下，创建course.{locale}.mdx文件，每个locale对应一个语言代码，英语对应为 course.en-US.mdx, 法语对应为course.fr-FR.mdx， 文件中保存该语言对应页面。使用命令行工具辅助进行多语言创建
```
node cli.js generate-locales --folder .\pages\ulearning\teacher --filename course.mdx
```
该命令行将在\pages\ulearning\teacher文件夹下，按照系统的i18n设置，生成对应的course.{locale}.mdx文件

### 创建多语言元数据文件

文件夹下的文件默认使用文件名进行排序。如果对排序以及名称有其他需要，在该文件下下生成元数据文件，控制顺序与名称。使用命令行工具辅助进行多语言元数据创建

```
node cli.js generate-locales --folder .\pages\ulearning\teacher --filename _meta.json
```

该命令行将在\pages\ulearning\teacher文件夹下，按照系统的i18n设置，生成对应的_meta.{locale}.mdx文件。编辑指定语言的json文件，实现该语言下的目录与页面名称设置。如_meta.en-US.json

```
{

  "getting-started": "Getting Started",

  "admin": "Administrator",

  "teacher": "Teacher",

  "student": "Student",

  "features": "All Features",

  "practices": "Best Practices",

  "terminology": "Terminology"

}
```
该文件设定了英语环境下的路由名称与目录中的顺序。

### 将文件更新到_meta.json文件中

当新建目录与文件之后，使用以下命令行将文件夹下的文件添加到_meta.json文件中
```
node cli.js update-meta --folder .\pages\ulearning\teacher --rebuild
```
该命令行将会删除当前_meta.json文件内容，而后依据文件夹内的文件，逐个排序后添加到_meta.json文件中。
所有语言的元数据文件都将添加同样的内容。完成初步添加后，可依据目录需要，更改顺序与文件名。


当已经设置好_meta.json文件，而后又在文件夹中添加了新的文件，希望将添加的文件加入到目录中，但是不更改已经设置的目录，使用以下命令行更新_meta.json内容

```
node cli.js update-meta --folder .\pages\ulearning\teacher 
```

该命令行将会将新添加的文件增加到现有的_meta.json文件最后，而后可手动对排序和目录名称进行调整。这个命令不会更改当前已经设定好的目录。

